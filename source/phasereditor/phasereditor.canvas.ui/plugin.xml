<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="phasereditor.canvas.ui.editors.CanvasEditor"
            default="false"
            icon="platform:/plugin/phasereditor.ui/icons/canvas.png"
            id="phasereditor.canvas.ui.editors.canvas"
            name="Canvas">
         <contentTypeBinding
               contentTypeId="phasereditor.canvas.core.canvasContentType">
         </contentTypeBinding>
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <wizard
            category="phasereditor.canvas.ui.wizardCategory"
            class="phasereditor.canvas.ui.wizards.NewWizard_State"
            hasPages="true"
            icon="platform:/plugin/phasereditor.ui/icons/canvas.png"
            id="phasereditor.canvas.ui.newStateWizard"
            name="State File">
      </wizard>
      <wizard
            category="phasereditor.canvas.ui.prefabsWizardCategory"
            class="phasereditor.canvas.ui.wizards.NewWizard_Group"
            hasPages="true"
            icon="platform:/plugin/phasereditor.ui/icons/canvas.png"
            id="phasereditor.canvas.ui.newGroupWizard"
            name="Group Prefab File">
      </wizard>
      <wizard
            category="phasereditor.canvas.ui.prefabsWizardCategory"
            class="phasereditor.canvas.ui.wizards.NewWizard_Sprite"
            hasPages="true"
            icon="platform:/plugin/phasereditor.ui/icons/canvas.png"
            id="phasereditor.canvas.ui.newSpriteWizard"
            name="Sprite Prefab File">
      </wizard>
      <category
            id="phasereditor.canvas.ui.wizardCategory"
            name="Canvas"
            parentCategory="phasereditor.ui.wizardCategory">
      </category>
      <category
            id="phasereditor.canvas.ui.prefabsWizardCategory"
            name="Prefabs"
            parentCategory="phasereditor.canvas.ui.wizardCategory">
      </category>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:phasereditor.canvas.ui.editors.canvas?after=object">
         <menu
               label="Transform">
              <command
                  commandId="phasereditor.canvas.ui.move"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_move.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_move.png"
                  label="Move"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.scale"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_handles.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_handles.png"
                  label="Scale"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.editangle"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/arrow_rotate_clockwise_blue.png"
                  icon="platform:/plugin/phasereditor.ui/icons/arrow_rotate_clockwise_blue.png"
                  label="Angle"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.editanchors"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/anchor.png"
                  icon="platform:/plugin/phasereditor.ui/icons/anchor.png"
                  label="Anchor"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.editPivot"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/bullet_blue.png"
                  icon="platform:/plugin/phasereditor.ui/icons/bullet_blue.png"
                  label="Pivot"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
         </menu>
         <menu
               label="Layout">
           
            <menu
                  icon="platform:/plugin/phasereditor.ui/icons/shape_move_front.png"
                  label="Rise And Lower">
               <command
                     commandId="phasereditor.canvas.ui.riseToTop"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_move_front.png"
                     label="Rise To Top"
                     style="push">
               </command>
               <command
                     commandId="phasereditor.canvas.ui.rise"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_move_forwards.png"
                     label="Rise"
                     style="push">
               </command>
               <command
                     commandId="phasereditor.canvas.ui.lower"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_move_backwards.png"
                     label="Lower"
                     style="push">
               </command>
               <command
                     commandId="phasereditor.canvas.ui.lowerBottom"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_move_back.png"
                     label="Lower To Bottom"
                     style="push">
               </command>
            </menu>
            <menu
                  icon="platform:/plugin/phasereditor.ui/icons/shape_align_center.png"
                  label="Align">
               <command
                     commandId="phasereditor.canvas.ui.align.left"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_align_left.png"
                     label="Align Left"
                     style="push">
               </command>
               <command
                     commandId="phasereditor.canvas.ui.align.right"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_align_right.png"
                     label="Align Right"
                     style="push">
               </command>
               <command
                     commandId="phasereditor.canvas.ui.align.top"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_align_top.png"
                     label="Align Top"
                     style="push">
               </command>
               <command
                     commandId="phasereditor.canvas.ui.align.bottom"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_align_bottom.png"
                     label="Align Bottom"
                     style="push">
               </command>
               <command
                     commandId="phasereditor.canvas.ui.align.center"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_align_center.png"
                     label="Align Center"
                     style="push">
               </command>
               <command
                     commandId="phasereditor.canvas.ui.align.middle"
                     icon="platform:/plugin/phasereditor.ui/icons/shape_align_middle.png"
                     label="Align Middle"
                     style="push">
               </command>
            </menu>
         </menu>
         <separator
               name="phasereditor.canvas.ui.separator2"
               visible="true">
         </separator>
         <menu
               label="Sprite">
            <command
                  commandId="phasereditor.canvas.ui.changeTexture"
                  label="Change Sprite Texture"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.selectSameTexture"
                  label="Select All Sprites With Same Texture"
                  style="push">
            </command>
            <separator
                  name="phasereditor.canvas.ui.separatoranimations"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.editAnimations"
                  label="Edit Animations"
                  style="push">
            </command>
            <separator
                  name="phasereditor.canvas.ui.sprite.1"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.editbody"
                  label="Edit Body"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.disablePhysics"
                  label="Remove Body"
                  style="push">
            </command>
            <menu
                  label="Arcade">
               <command
                     commandId="phasereditor.canvas.ui.arcadeRectBody"
                     label="Set Arcade Body - Rectangular"
                     style="push">
               </command>
               <command
                     commandId="phasereditor.canvas.ui.arcadeCircleBody"
                     label="Set Arcade Body - Circular"
                     style="push">
               </command>
            </menu>
            <separator
                  name="phasereditor.canvas.ui.sprite.2"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.addsprite"
                  label="Add Sprite"
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.spriteType"
                     value="sprite">
               </parameter>
            </command>
         </menu>
         <menu
               label="TileSprite">
            <command
                  commandId="phasereditor.canvas.ui.resizeTile"
                  label="Convert To/Resize Tile Sprite"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.oneSpriteSelected">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.morphToTilesprite"
                  label="Morph To Tile Sprite"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addsprite"
                  label="Add Tile Sprite..."
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.spriteType"
                     value="tileSprite">
               </parameter>
            </command>
         </menu>
          <menu label="Text">
            	<command
                  commandId="phasereditor.canvas.ui.changeText"
                  label="Change Text"
                  style="push">
            	</command>
             <command
                   commandId="phasereditor.canvas.ui.changeFont"
                   icon="platform:/plugin/phasereditor.ui/icons/font.png"
                   label="Change Font"
                   style="push">
             </command>
             <separator
                   name="phasereditor.canvas.ui.fontalign2"
                   visible="true">
             </separator>
             <command
                   commandId="phasereditor.canvas.ui.changeFontSize"
                   icon="platform:/plugin/phasereditor.ui/icons/font_enlarge.png"
                   label="Change Font Size (Up)"
                   style="push">
                <parameter
                      name="phasereditor.canvas.ui.fontSizeAmount"
                      value="up">
                </parameter>
             </command>
             <command
                   commandId="phasereditor.canvas.ui.changeFontSize"
                   icon="platform:/plugin/phasereditor.ui/icons/font_shrink.png"
                   label="Change Font Size (Down)"
                   style="push">
                <parameter
                      name="phasereditor.canvas.ui.fontSizeAmount"
                      value="down">
                </parameter>
             </command>
             
              <separator
                   name="phasereditor.canvas.ui.textalign1"
                   visible="true">
             </separator>
                        
             <command
                   commandId="phasereditor.canvas.ui.fontAlign"
                   icon="platform:/plugin/phasereditor.ui/icons/text_align_left.png"
                   label="Text Align Left"
                   style="push">
                <parameter
                      name="phasereditor.canvas.ui.align"
                      value="left">
                </parameter>
             </command>
             <command
                   commandId="phasereditor.canvas.ui.fontAlign"
                   icon="platform:/plugin/phasereditor.ui/icons/text_align_center.png"
                   label="Text Align Center"
                   style="push">
                <parameter
                      name="phasereditor.canvas.ui.align"
                      value="center">
                </parameter>
             </command>
             <command
                   commandId="phasereditor.canvas.ui.fontAlign"
                   icon="platform:/plugin/phasereditor.ui/icons/text_align_right.png"
                   label="Text Align Right"
                   style="push">
                <parameter
                      name="phasereditor.canvas.ui.align"
                      value="right">
                </parameter>
             </command>
             <separator
                   name="phasereditor.canvas.ui.text2"
                   visible="true">
             </separator>
             <command
                   commandId="phasereditor.canvas.ui.selectTextSameFont"
                   label="Select All Texts With Same Font"
                   style="push">
             </command>
             <separator
                   name="phasereditor.canvas.ui.text1"
                   visible="true">
             </separator>
             <command
                   commandId="phasereditor.canvas.ui.addText"
                   label="Add Text"
                   style="push">
             </command>
             <command
                   commandId="phasereditor.canvas.ui.addBitmapText"
                   label="Add Bitmap Text"
                   style="push">
             </command>
         </menu>
         <menu
               label="Button">
            <command
                  commandId="phasereditor.canvas.ui.morphToButton"
                  label="Morph To Button"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addsprite"
                  label="Add Button..."
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.spriteType"
                     value="button">
               </parameter>
            </command>
         </menu>
         <menu
               label="Tilemap">
            <command
                  commandId="phasereditor.canvas.ui.editTilemapCollision"
                  label="Edit Collision Indexes"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.setTilesetImage"
                  label="Set Tileset Image"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addsprite"
                  label="Add Tilemap"
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.spriteType"
                     value="tilemap">
               </parameter>
            </command>
         </menu>
         <menu
               label="Prefab">
            <command
                  commandId="phasereditor.canvas.ui.openOverrideDialog"
                  label="Override Properties"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.openPrefab"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.createPrefabWithSelection"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addprefab"
                  label="Add..."
                  style="push">
            </command>
         </menu>
         <menu
               label="Group">
            <command
                  commandId="phasereditor.canvas.ui.makegroup"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_square_group.png"
                  label="Create Group - With Selection"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.emptygroup"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_square_group.png"
                  label="Create Group - Empty"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.ungroup"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_ungroup.png"
                  label="Break Group"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.trimGroup"
                  label="Trim Group"
                  style="push">
            </command>
            <separator
                  name="phasereditor.canvas.ui.separator1"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.moveToGroup"
                  label="Move To Group..."
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.selectParent"
                  label="Select Parent"
                  style="push">
            </command>
            <separator
                  name="phasereditor.canvas.ui.separator3"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.closeGroup"
                  label="Close Group"
                  style="push">
               <visibleWhen
                     checkEnabled="true">
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.openGroup"
                  label="Open Group"
                  style="push">
               <visibleWhen
                     checkEnabled="true">
               </visibleWhen>
            </command>
         </menu>
         <menu
               label="Add...">
            <command
                  commandId="phasereditor.canvas.ui.addsprite"
                  label="Sprite"
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.spriteType"
                     value="sprite">
               </parameter>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addsprite"
                  label="Tile Sprite"
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.spriteType"
                     value="tileSprite">
               </parameter>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addText"
                  label="Text"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addBitmapText"
                  label="Bitmap Text"
                  style="push">
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addsprite"
                  label="Button"
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.spriteType"
                     value="button">
               </parameter>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addsprite"
                  label="Tilemap"
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.spriteType"
                     value="tilemap">
               </parameter>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.addprefab"
                  label="Prefab"
                  style="push">
            </command>
         </menu>
         <separator
               name="phasereditor.canvas.ui.separator8"
               visible="true">
         </separator>
        
         <command
               commandId="phasereditor.canvas.ui.nopick"
               label="Deny Pick Object"
               style="push">
            <visibleWhen
                  checkEnabled="true">
            </visibleWhen>
         </command>
         <command
               commandId="phasereditor.canvas.ui.pick"
               label="Allow Pick Object"
               style="push">
            <visibleWhen
                  checkEnabled="true">
            </visibleWhen>
         </command>
         <command
               commandId="phasereditor.canvas.ui.togglesnapping"
               style="push">
         </command>
         <command
               commandId="phasereditor.canvas.ui.setSnappingWithSelection"
               style="push">
         </command>
         <command
               commandId="phasereditor.canvas.ui.editusercode"
               style="push">
         </command>
         <command
               commandId="org.eclipse.ui.edit.rename"
               style="push">
         </command>
         <command
               commandId="org.eclipse.ui.edit.delete"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="toolbar:org.eclipse.ui.main.toolbar?after=org.eclipse.ui.workbench.navigate">
         <toolbar
               id="phasereditor.canvas.ui.toolbar"
               label="Canvas">         
            <command
                  commandId="phasereditor.canvas.ui.zoomRestore"
                  icon="platform:/plugin/phasereditor.ui/icons/zoom_default.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <separator
                  name="phasereditor.canvas.ui.separator6"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.move"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_move.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_move.png"
                  label="Move"
                  style="push">
                  <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.scale"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_handles.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_handles.png"
                  label="Scale"
                  style="push">
                  <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.editangle"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/arrow_rotate_clockwise_blue.png"
                  icon="platform:/plugin/phasereditor.ui/icons/arrow_rotate_clockwise_blue.png"
                  label="Angle"
                  style="push">
                  <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
             <command
                   commandId="phasereditor.canvas.ui.editanchors"
                   disabledIcon="platform:/plugin/phasereditor.ui/icons/d/anchor.png"
                   icon="platform:/plugin/phasereditor.ui/icons/anchor.png"
                   label="Anchor"
                   style="push">
                  <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.editPivot"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/bullet_blue.png"
                  icon="platform:/plugin/phasereditor.ui/icons/bullet_blue.png"
                  label="Pivot"
                  style="push">
                  <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <separator
                  name="phasereditor.canvas.ui.separator1"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.riseToTop"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_move_front.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_move_front.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.rise"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_move_forwards.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_move_forwards.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.lower"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_move_backwards.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_move_backwards.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.lowerBottom"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_move_back.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_move_back.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <separator
                  name="phasereditor.canvas.ui.separator2"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.align.left"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_align_left.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_align_left.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.align.right"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_align_right.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_align_right.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.align.top"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_align_top.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_align_top.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.align.bottom"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_align_bottom.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_align_bottom.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.align.center"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_align_center.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_align_center.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.align.middle"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_align_middle.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_align_middle.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <separator
                  name="phasereditor.canvas.ui.particular1"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.changeText"
                  icon="platform:/plugin/phasereditor.ui/icons/text_abc.png"
                  style="push">
               <visibleWhen
                     checkEnabled="true">
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.changeFont"
                  icon="platform:/plugin/phasereditor.ui/icons/font.png"
                  style="push">
               <visibleWhen
                     checkEnabled="true">
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.changeFontSize"
                  icon="platform:/plugin/phasereditor.ui/icons/font_enlarge.png"
                  label="Change Font Size - Up"
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.fontSizeAmount"
                     value="up">
               </parameter>
               <visibleWhen
                     checkEnabled="true">
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.changeFontSize"
                  icon="platform:/plugin/phasereditor.ui/icons/font_shrink.png"
                  label="Change Font Size - Down"
                  style="push">
               <parameter
                     name="phasereditor.canvas.ui.fontSizeAmount"
                     value="down">
               </parameter>
               <visibleWhen
                     checkEnabled="true">
               </visibleWhen>
            </command>
            
            <command
                   commandId="phasereditor.canvas.ui.fontAlign"
                   icon="platform:/plugin/phasereditor.ui/icons/text_align_left.png"
                   label="Text Align Left"
                   style="push">
                <parameter
                      name="phasereditor.canvas.ui.align"
                      value="left">
                </parameter>
                <visibleWhen
                     checkEnabled="true">
               </visibleWhen>
             </command>
             <command
                   commandId="phasereditor.canvas.ui.fontAlign"
                   icon="platform:/plugin/phasereditor.ui/icons/text_align_center.png"
                   label="Text Align Center"
                   style="push">
                <parameter
                      name="phasereditor.canvas.ui.align"
                      value="center">
                </parameter>
                <visibleWhen
                     checkEnabled="true">
               </visibleWhen>
             </command>
            <command
                   commandId="phasereditor.canvas.ui.fontAlign"
                   icon="platform:/plugin/phasereditor.ui/icons/text_align_right.png"
                   label="Text Align Right"
                   style="push">
                <parameter
                      name="phasereditor.canvas.ui.align"
                      value="right">
                </parameter>
                <visibleWhen
                     checkEnabled="true">
               </visibleWhen>
             </command>
            
            
            <separator
                  name="phasereditor.canvas.ui.separator3"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.quickEdit"
                  disabledIcon="platform:/plugin/phasereditor.ui/icons/d/shape_square_edit.png"
                  icon="platform:/plugin/phasereditor.ui/icons/shape_square_edit.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <separator
                  name="phasereditor.canvas.ui.separator4"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.quickOutline"
                  icon="platform:/plugin/phasereditor.ui/icons/outline_co.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.toggleSidePanel"
                  icon="platform:/plugin/phasereditor.ui/icons/application_side_tree.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.togglePalette"
                  icon="platform:/plugin/phasereditor.ui/icons/palette.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <separator
                  name="phasereditor.canvas.ui.separator5"
                  visible="true">
            </separator>
            <command
                  commandId="phasereditor.canvas.ui.gencode"
                  icon="platform:/plugin/phasereditor.ui/icons/cog.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="phasereditor.canvas.ui.showcode"
                  icon="platform:/plugin/phasereditor.ui/icons/page_white_code.png"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <reference
                        definitionId="phasereditor.canvas.ui.activeEditor">
                  </reference>
               </visibleWhen>
            </command>
         </toolbar>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            id="phasereditor.canvas.ui.editor.category"
            name="Canvas">
      </category>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Rise one level the selected node."
            id="phasereditor.canvas.ui.rise"
            name="Canvas: Rise">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Lower one level the selected node."
            id="phasereditor.canvas.ui.lower"
            name="Canvas: Lower">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Lower to bottom the selected node."
            id="phasereditor.canvas.ui.lowerBottom"
            name="Canvas: Lower To Bottom">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Rise to top the selected node."
            id="phasereditor.canvas.ui.riseToTop"
            name="Canvas: Rise To Top">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Make a group with the selected nodes."
            id="phasereditor.canvas.ui.makegroup"
            name="Canvas: Make Group">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Make empty group."
            id="phasereditor.canvas.ui.emptygroup"
            name="Canvas: Make Empty Group">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.escape"
            name="Canvas: Escape">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Align to left the selected nodes."
            id="phasereditor.canvas.ui.align.left"
            name="Canvas: Align Left">
      </command>
     <command
           categoryId="phasereditor.canvas.ui.editor.category"
           description="Align to top the selected nodes."
           id="phasereditor.canvas.ui.align.top"
           name="Canvas: Align Top">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Align to right the selected nodes."
            id="phasereditor.canvas.ui.align.right"
            name="Canvas: Align Right">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Align to bottom the selected nodes."
            id="phasereditor.canvas.ui.align.bottom"
            name="Canvas: Align Bottom">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Align to bottom the selected nodes."
            id="phasereditor.canvas.ui.align.center"
            name="Canvas: Align Center">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Align to middle the selected nodes."
            id="phasereditor.canvas.ui.align.middle"
            name="Canvas: Align Middle">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Remove the white space from the left and top of the groups."
            id="phasereditor.canvas.ui.trimGroup"
            name="Canvas: Trim Group">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Break up a group."
            id="phasereditor.canvas.ui.ungroup"
            name="Canvas: Break Group">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Open a group for selection."
            id="phasereditor.canvas.ui.openGroup"
            name="Canvas: Open Group">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Close a group for selection."
            id="phasereditor.canvas.ui.closeGroup"
            name="Canvas: Close Group">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Allow a node to be picked by the mouse."
            id="phasereditor.canvas.ui.pick"
            name="Canvas: Allow Pick">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Deny a node to be picked by the mouse."
            id="phasereditor.canvas.ui.nopick"
            name="Canvas: Allow Pick">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.morphToSprite"
            name="Morph To Sprite">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.morphToTilesprite"
            name="Morph To Tile Sprite">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.morphToButton"
            name="Morph To Button">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            defaultHandler="phasereditor.canvas.ui.handlers.ZoomRestoreHandler"
            id="phasereditor.canvas.ui.zoomRestore"
            name="Restore Zoom">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.quickOutline"
            name="Quick outline">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.quickEdit"
            name="Quick object edit">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.addobject"
            name="Add Sprite">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.resizeTile"
            name="Resize Tile Sprite">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.moveToGroup"
            name="Move To Other Group">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.arcadeCircleBody"
            name="Set Arcade Body - Circular">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.arcadeRectBody"
            name="Set Arcade Body - Rectangular">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.disablePhysics"
            name="Remove Physical Body">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.editbody"
            name="Edit Physical Body">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.move"
            name="Edit Position">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.scale"
            name="Edit Scale">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.editangle"
            name="Edit Rotation">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.togglesnapping"
            name="Toggle Snapping">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.setSnappingWithSelection"
            name="Enable Snapping (Selection Size)">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.editanchors"
            name="Edit Anchors">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            defaultHandler="phasereditor.canvas.ui.handlers.ShowCodeHandler"
            id="phasereditor.canvas.ui.showcode"
            name="Show Code">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            defaultHandler="phasereditor.canvas.ui.handlers.ToggleSidePanelHandler"
            id="phasereditor.canvas.ui.toggleSidePanel"
            name="Toggle Side Panel">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            defaultHandler="phasereditor.canvas.ui.handlers.TogglePaletteHandler"
            id="phasereditor.canvas.ui.togglePalette"
            name="Toggle Palette">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            defaultHandler="phasereditor.canvas.ui.handlers.GenerateCodeHandler"
            id="phasereditor.canvas.ui.gencode"
            name="Generate Code">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.openPrefab"
            name="Open Prefab">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.createPrefabWithSelection"
            name="Create Prefab With Selection">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.changeTexture"
            name="Change Texture">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.changeText"
            name="Change Text">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.selectSameTexture"
            name="Select All Sprites With Same Texture">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.findPrefabsReferences"
            name="Find Prefab References">
      </command>
      <command
            id="phasereditor.canvas.ui.addsprite"
            name="Add Sprite">
         <commandParameter
               id="phasereditor.canvas.ui.spriteType"
               name="Sprite Type"
               optional="false">
         </commandParameter>
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            defaultHandler="phasereditor.canvas.ui.handlers.AddPrefabHandler"
            id="phasereditor.canvas.ui.addprefab"
            name="Add Prefab">
      </command>
      <command
            id="phasereditor.canvas.ui.addText"
            name="Add Text">
      </command>
      <command
            id="phasereditor.canvas.ui.addBitmapText"
            name="Add Text">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            description="Edit the code inserted into the generated code."
            id="phasereditor.canvas.ui.editusercode"
            name="Edit User Code">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.compile"
            name="Compile Canvas Files">
      </command>
      <command
            id="phasereditor.canvas.ui.editAnimations"
            name="Edit Sprite Animations">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.selectParent"
            name="Select Parent">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.editPivot"
            name="Edit Pivot">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.openOverrideDialog"
            name="Override Properties">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.morphToText"
            name="Morph To Text">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.morphToBitmapText"
            name="Morph To BitmapText">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.selectTextSameFont"
            name="Select All Texts With Same Font">
      </command>
      <command
            id="phasereditor.canvas.ui.changeFont"
            name="Change Font">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.changeFontSize"
            name="Change Font Size">
         <commandParameter
               id="phasereditor.canvas.ui.fontSizeAmount"
               name="Amount"
               optional="false">
         </commandParameter>
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.fontAlign"
            name="Text Align">
         <commandParameter
               id="phasereditor.canvas.ui.align"
               name="Align"
               optional="false">
         </commandParameter>
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.editTilemapCollision"
            name="Edit Tilemap Collision Indexes">
      </command>
      <command
            categoryId="phasereditor.canvas.ui.editor.category"
            id="phasereditor.canvas.ui.setTilesetImage"
            name="Set Tileset Image">
      </command>
      
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="phasereditor.canvas.ui.handlers.RenameCanvasHandler"
            commandId="org.eclipse.ui.edit.rename">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <instanceof
                        value="phasereditor.canvas.core.CanvasFile">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      
      <handler
            class="phasereditor.canvas.ui.handlers.MoveCanvasHandler"
            commandId="org.eclipse.ui.edit.move">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <instanceof
                        value="phasereditor.canvas.core.CanvasFile">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
         
      <handler
            class="phasereditor.canvas.ui.handlers.DeleteCanvasHandler"
            commandId="org.eclipse.ui.edit.delete">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <instanceof
                        value="phasereditor.canvas.core.CanvasFile">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
         
      <handler
            class="phasereditor.canvas.ui.handlers.DeleteObjectHandler"
            commandId="org.eclipse.ui.edit.delete">
         <activeWhen>
         	<or>
         	
         		<with
                   variable="activeContexts">
                <iterate
                      ifEmpty="false"
                      operator="or">
                       <equals
                            value="phasereditor.canvas.ui.palettecontext">
                      </equals>
                </iterate>
             </with>
                     
                      
            <and>
            	<reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            	</reference>
             <reference
                   definitionId="phasereditor.canvas.ui.noPrefabRootSelected">
             </reference>
             <with
                   variable="activeContexts">
                <iterate
                      ifEmpty="false"
                      operator="or">
                      <equals
                            value="phasereditor.canvas.ui.nodescontext">
                      </equals>
                </iterate>
             </with>
            </and>
            </or>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.RiseShapeHandler"
            commandId="phasereditor.canvas.ui.rise">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.LowerShapeHandler"
            commandId="phasereditor.canvas.ui.lower">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.RiseTopShapeHandler"
            commandId="phasereditor.canvas.ui.riseToTop">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.LowerBottomShapeHandler"
            commandId="phasereditor.canvas.ui.lowerBottom">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.MakeGroupHandler"
            commandId="phasereditor.canvas.ui.makegroup">
         <enabledWhen>
            <and>
               <reference
                     definitionId="phasereditor.canvas.ui.nodesSelected">
               </reference>
               <reference
                     definitionId="phasereditor.canvas.ui.noPrefabRootSelected">
               </reference>
               <not>
                  <reference
                        definitionId="phasereditor.canvas.ui.spritePrefabEditorActive">
                  </reference>
               </not>
            </and>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.MakeEmptyGroupHandler"
            commandId="phasereditor.canvas.ui.emptygroup">
         <activeWhen>
         	<and>
            <or>
            	<and>
               		<reference
                     		definitionId="phasereditor.canvas.ui.nodesSelected">
               		</reference>
               		<with
                     	variable="selection">
                  		<count
                        	value="1">
                  		</count>
               		</with>
            	</and>
            	<with
                	variable="selection">
              		<count
                       	value="!">
           			</count>
               	</with>
             </or>
            <not>
               <reference
                     definitionId="phasereditor.canvas.ui.spritePrefabEditorActive">
               </reference>
            </not>
             </and>  		
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AbortOperationHandler"
            commandId="phasereditor.canvas.ui.escape">
         <activeWhen>
            <with
                  variable="activePartId">
               <equals
                     value="phasereditor.canvas.ui.editors.canvas">
               </equals>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AlignNodeHandler"
            commandId="phasereditor.canvas.ui.align.left">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AlignNodeHandler"
            commandId="phasereditor.canvas.ui.align.top">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AlignNodeHandler"
            commandId="phasereditor.canvas.ui.align.right">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AlignNodeHandler"
            commandId="phasereditor.canvas.ui.align.bottom">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AlignNodeHandler"
            commandId="phasereditor.canvas.ui.align.center">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AlignNodeHandler"
            commandId="phasereditor.canvas.ui.align.middle">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.TrimGroupHandler"
            commandId="phasereditor.canvas.ui.trimGroup">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.groupsSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.BreakGroupHandler"
            commandId="phasereditor.canvas.ui.ungroup">
         <enabledWhen>
            <and>
               <reference
                     definitionId="phasereditor.canvas.ui.groupsSelected">
               </reference>
               <reference
                     definitionId="phasereditor.canvas.ui.noPrefabRootSelected">
               </reference>
            </and>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.CloseOpenGroupHandler"
            commandId="phasereditor.canvas.ui.openGroup">
         <enabledWhen>
         	<and>
	            <reference
	                  definitionId="phasereditor.canvas.ui.groupsSelected">
	            </reference>
	            <with
	                    variable="selection">
	                 <iterate>
	                    <adapt
	                        type="phasereditor.canvas.ui.shapes.GroupNode">
	                     <test
	                           property="phasereditor.canvas.ui.isClosedGroup"
	                           value="true">
	                     </test>
	                  </adapt>
	                 </iterate>
	              </with>
            </and>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.CloseOpenGroupHandler"
            commandId="phasereditor.canvas.ui.closeGroup">
         <enabledWhen>
            <and>
	            <reference
	                  definitionId="phasereditor.canvas.ui.groupsSelected">
	            </reference>
	             <with
                    variable="selection">
                 <iterate>
                    <adapt
                        type="phasereditor.canvas.ui.shapes.GroupNode">
                     <test
                           property="phasereditor.canvas.ui.isClosedGroup"
                           value="false">
                     </test>
                  </adapt>
                 </iterate>
              </with>
            </and>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.PickHandler"
            commandId="phasereditor.canvas.ui.pick">
         <enabledWhen>
         	<and>
	            <reference
	                  definitionId="phasereditor.canvas.ui.nodesSelected">
	            </reference>
	             <reference
                     definitionId="phasereditor.canvas.ui.noPrefabRootSelected">
               </reference>
              <with
                    variable="selection">
                 <iterate
                       operator="and">
                    <adapt
                        type="phasereditor.canvas.ui.shapes.IObjectNode">
                     <test
                           property="phasereditor.canvas.ui.allowPick"
                           value="false">
                     </test>
                  </adapt>
                 </iterate>
              </with>
               
            </and>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.PickHandler"
            commandId="phasereditor.canvas.ui.nopick">
         <enabledWhen>
            <and>
	            <reference
	                  definitionId="phasereditor.canvas.ui.nodesSelected">
	            </reference>
	             <reference
                     definitionId="phasereditor.canvas.ui.noPrefabRootSelected">
               </reference>
               <with
                    variable="selection">
                 <iterate>
                    <adapt
                        type="phasereditor.canvas.ui.shapes.IObjectNode">
                     <test
                           property="phasereditor.canvas.ui.allowPick"
                           value="true">
                     </test>
                  </adapt>
                 </iterate>
              </with>
            </and>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.MorphToSpriteHandler"
            commandId="phasereditor.canvas.ui.morphToSprite">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <and>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.ISpriteNode">
                     </instanceof>
                     <not>
	                     <instanceof
	                           value="phasereditor.canvas.ui.shapes.ImageSpriteNode">
	                     </instanceof>
                     </not>
                     <not>
	                     <instanceof
	                           value="phasereditor.canvas.ui.shapes.SpritesheetSpriteNode">
	                     </instanceof>
                     </not>
                     <not>
	                     <instanceof
	                           value="phasereditor.canvas.ui.shapes.AtlasSpriteNode">
	                     </instanceof>
                     </not>
                     <adapt
		                  	type="phasereditor.canvas.ui.shapes.IObjectNode">
		                  <test
		                        property="phasereditor.canvas.ui.isPrefabInstance"
		                        value="false">
		                  </test>
		              </adapt>
                  </and>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.MorphToTileSpriteHandler"
            commandId="phasereditor.canvas.ui.morphToTilesprite">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <and>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.ISpriteNode">
                     </instanceof>
                     <not>
	                     <instanceof
	                           value="phasereditor.canvas.ui.shapes.TileSpriteNode">
	                     </instanceof>
                     </not>
                     <adapt
		                  	type="phasereditor.canvas.ui.shapes.IObjectNode">
		                  <test
		                        property="phasereditor.canvas.ui.isPrefabInstance"
		                        value="false">
		                  </test>
		              </adapt>
                  </and>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.MorphToButtonSpriteHandler"
            commandId="phasereditor.canvas.ui.morphToButton">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <and>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.ISpriteNode">
                     </instanceof>
                     <not>
	                     <instanceof
	                           value="phasereditor.canvas.ui.shapes.ButtonSpriteNode">
	                     </instanceof>
                     </not>
                     <adapt
		                  	type="phasereditor.canvas.ui.shapes.IObjectNode">
		                  <test
		                        property="phasereditor.canvas.ui.isPrefabInstance"
		                        value="false">
		                  </test>
		              </adapt>                     
                  </and>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      
         <handler
            class="phasereditor.canvas.ui.handlers.MorphToTextHandler"
            commandId="phasereditor.canvas.ui.morphToText">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <and>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.ISpriteNode">
                     </instanceof>
                     <not>
	                     <instanceof
	                           value="phasereditor.canvas.ui.shapes.TextNode">
	                     </instanceof>
                     </not>
                     <adapt
		                  	type="phasereditor.canvas.ui.shapes.IObjectNode">
		                  <test
		                        property="phasereditor.canvas.ui.isPrefabInstance"
		                        value="false">
		                  </test>
		              </adapt>                     
                  </and>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.MorphToBitmapTextHandler"
            commandId="phasereditor.canvas.ui.morphToBitmapText">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <and>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.ISpriteNode">
                     </instanceof>
                     <not>
	                     <instanceof
	                           value="phasereditor.canvas.ui.shapes.BitmapTextNode">
	                     </instanceof>
                     </not>
                     <adapt
		                  	type="phasereditor.canvas.ui.shapes.IObjectNode">
		                  <test
		                        property="phasereditor.canvas.ui.isPrefabInstance"
		                        value="false">
		                  </test>
		              </adapt>                     
                  </and>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      
      <handler
            class="phasereditor.canvas.ui.handlers.CopyHandler"
            commandId="org.eclipse.ui.edit.copy">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </activeWhen>
      </handler>
      
      <handler
            class="phasereditor.canvas.ui.handlers.CutHandler"
            commandId="org.eclipse.ui.edit.cut">
         <activeWhen>
            <and>
	            <reference
	                  definitionId="phasereditor.canvas.ui.nodesSelected">
	            </reference>
	             <reference
                     definitionId="phasereditor.canvas.ui.noPrefabRootSelected">
               </reference>
            </and>
         </activeWhen>
      </handler>
      
      
      <handler
            class="phasereditor.canvas.ui.handlers.PasteHandler"
            commandId="org.eclipse.ui.edit.paste">
         <activeWhen>
            <with
                  variable="activeContexts">
               <iterate
                     ifEmpty="false"
                     operator="or">
                  <equals
                        value="phasereditor.canvas.ui.nodescontext">
                  </equals>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      
      <handler
            class="phasereditor.canvas.ui.handlers.QuickOutlineHandler"
            commandId="phasereditor.canvas.ui.quickOutline">
         <activeWhen>
            <with
                  variable="activePartId">
               <equals
                     value="phasereditor.canvas.ui.editors.canvas">
               </equals>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.QuickObjectEditHandler"
            commandId="phasereditor.canvas.ui.quickEdit">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.ResizeTileHandler"
            commandId="phasereditor.canvas.ui.resizeTile">
         <enabledWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.oneSpriteSelected">
            </reference></enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.MoveToOtherGroupHandler"
            commandId="phasereditor.canvas.ui.moveToGroup">
         <activeWhen>
            <and>
	            <reference
	                  definitionId="phasereditor.canvas.ui.nodesSelected">
	            </reference>
	             <reference
                     definitionId="phasereditor.canvas.ui.noPrefabRootSelected">
               </reference>
              <not>
                 <reference
                       definitionId="phasereditor.canvas.ui.spritePrefabEditorActive">
                 </reference>
              </not>
            </and>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.SetArcadeBodyHandler"
            commandId="phasereditor.canvas.ui.arcadeCircleBody">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.spritesSelected">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.SetArcadeBodyHandler"
            commandId="phasereditor.canvas.ui.arcadeRectBody">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.spritesSelected">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.DisablePhysicsHandler"
            commandId="phasereditor.canvas.ui.disablePhysics">
         <activeWhen>
            <with
                  variable="selection">
               <iterate>
                  <adapt
                        type="phasereditor.canvas.core.BodyModel">
                  </adapt>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.EditBodyHandler"
            commandId="phasereditor.canvas.ui.editbody">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.oneSpriteSelected">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.MoveHandler"
            commandId="phasereditor.canvas.ui.move">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.oneObjectSelected">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.ScaleHandler"
            commandId="phasereditor.canvas.ui.scale">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.oneObjectSelected">
            </reference></activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.EditAngleHandler"
            commandId="phasereditor.canvas.ui.editangle">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.oneObjectSelected">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.ToggleSnappingHandler"
            commandId="phasereditor.canvas.ui.togglesnapping">
      </handler>
      
      <handler
            class="phasereditor.canvas.ui.handlers.SetSnappingSelectionHandler"
            commandId="phasereditor.canvas.ui.setSnappingWithSelection">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.spritesSelected">
            </reference>
         </activeWhen>
      </handler>
      
      <handler
            class="phasereditor.canvas.ui.handlers.EditAnchorHandler"
            commandId="phasereditor.canvas.ui.editanchors">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.oneSpriteSelected">
            </reference>
         </activeWhen>
      </handler>
      
      <handler
            class="phasereditor.canvas.ui.handlers.EditPivotHandler"
            commandId="phasereditor.canvas.ui.editPivot">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.oneObjectSelected">
            </reference>
         </activeWhen>
      </handler>
      
      <handler
            class="phasereditor.canvas.ui.handlers.OpenPrefabHandler"
            commandId="phasereditor.canvas.ui.openPrefab">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.isPrefabInstance">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.CreatePrefabHandler"
            commandId="phasereditor.canvas.ui.createPrefabWithSelection">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.oneObjectSelected">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.ChangeTextureHandler"
            commandId="phasereditor.canvas.ui.changeTexture">
         <activeWhen>
            <with
               variable="selection">                         
               <iterate
                     ifEmpty="false">
                  <or>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.MissingAssetNode">
                     </instanceof>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.FrameNode">
                     </instanceof>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.TileSpriteNode">
                     </instanceof>
                  </or>
               </iterate>
         </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.ChangeTextHandler"
            commandId="phasereditor.canvas.ui.changeText">
         <activeWhen>
            <with
               variable="selection">                         
               <iterate
                     ifEmpty="false">
                  <instanceof
                        value="phasereditor.canvas.ui.shapes.ITextSpriteNode">
                  </instanceof>
               </iterate>
         </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.SelectAllSpriteWithSameTextureHandler"
            commandId="phasereditor.canvas.ui.selectSameTexture">
         <activeWhen>
            <with
                  variable="selection">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <or>
                        <instanceof
                              value="phasereditor.canvas.ui.shapes.FrameNode">
                        </instanceof>
                        <instanceof
                              value="phasereditor.canvas.ui.shapes.TileSpriteNode">
                        </instanceof>
                        <instanceof
                              value="phasereditor.canvas.ui.shapes.MissingAssetNode">
                        </instanceof>
                     </or>
                  </iterate>
               </and>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.search.FindPrefabReferencesHandler"
            commandId="phasereditor.canvas.ui.findPrefabsReferences">
         <enabledWhen>
            <with
                  variable="selection">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <instanceof
                           value="phasereditor.canvas.core.Prefab">
                     </instanceof>
                  </iterate>
               </and>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AddSpriteHandler"
            commandId="phasereditor.canvas.ui.addsprite">
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.EditUserCodeHandler"
            commandId="phasereditor.canvas.ui.editusercode">
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.CompileCanvasFileHandler"
            commandId="phasereditor.canvas.ui.compile">
         <enabledWhen>
            <with
                  variable="selection">
               <count
                     value="+">
               </count>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.EditSpriteAnimationsHandler"
            commandId="phasereditor.canvas.ui.editAnimations">
         <enabledWhen>
            <with
                  variable="selection">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.FrameNode">
                     </instanceof>
                  </iterate>
               </and>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AddTextHandler"
            commandId="phasereditor.canvas.ui.addText">
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.AddBitmapTextHandler"
            commandId="phasereditor.canvas.ui.addBitmapText">
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.SelectParentHandler"
            commandId="phasereditor.canvas.ui.selectParent">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false">
                  <instanceof
                        value="phasereditor.canvas.ui.shapes.IObjectNode">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.OpenOverideDialogHandler"
            commandId="phasereditor.canvas.ui.openOverrideDialog">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.isPrefabInstance">
            </reference>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.SelectAllSpriteWithSameTextureHandler"
            commandId="phasereditor.canvas.ui.selectTextSameFont">
         <activeWhen>
            <with
                  variable="selection">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.BitmapTextNode">
                     </instanceof>
                  </iterate>
               </and>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.SelectAllTextWithSameFontHandler"
            commandId="phasereditor.canvas.ui.selectTextSameFont">
         <activeWhen>
            <with
                  variable="selection">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.TextNode">
                     </instanceof>
                  </iterate>
               </and>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.ChangeBitmapFontHandler"
            commandId="phasereditor.canvas.ui.changeFont">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false">
                  <instanceof
                        value="phasereditor.canvas.ui.shapes.BitmapTextNode">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.ChangeTextFontHandler"
            commandId="phasereditor.canvas.ui.changeFont">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false">
                  <instanceof
                        value="phasereditor.canvas.ui.shapes.TextNode">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.ChangeFontSizeHandler"
            commandId="phasereditor.canvas.ui.changeFontSize">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false">
                  <instanceof
                        value="phasereditor.canvas.ui.shapes.ITextSpriteNode">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.TextAlignHandler"
            commandId="phasereditor.canvas.ui.fontAlign">
	         <activeWhen>
	            <with
	                  variable="selection">
	               <iterate
	                     ifEmpty="false">
	                  <instanceof
	                        value="phasereditor.canvas.ui.shapes.ITextSpriteNode">
	                  </instanceof>
	               </iterate>
	            </with>
	         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.EditTilemapCollisionIndexesHandler"
            commandId="phasereditor.canvas.ui.editTilemapCollision">
         <activeWhen>
            <with
                  variable="selection">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.TilemapSpriteNode">
                     </instanceof>
                  </iterate>
               </and>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.SetTilesetImageHandler"
            commandId="phasereditor.canvas.ui.setTilesetImage">
         <activeWhen>
            <with
                  variable="selection">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.TilemapSpriteNode">
                     </instanceof>
                  </iterate>
               </and>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="phasereditor.canvas.ui.handlers.RenameObjectHandler"
            commandId="org.eclipse.ui.edit.rename">
         <activeWhen>
            <reference
                  definitionId="phasereditor.canvas.ui.nodesSelected">
            </reference>
         </activeWhen>
      </handler>
      
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="phasereditor.canvas.ui.rise"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence ="HOME">
            </key>
      <key
            commandId="phasereditor.canvas.ui.riseToTop"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="PAGE_UP">
      </key>
      <key
            commandId="phasereditor.canvas.ui.lower"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="END">
      </key>
      <key
            commandId="phasereditor.canvas.ui.lowerBottom"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="PAGE_DOWN">
      </key>
      <key
            commandId="phasereditor.canvas.ui.escape"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="ESC">
      </key>
      <key
            commandId="phasereditor.canvas.ui.openGroup"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M2+C">
      </key>
      <key
            commandId="phasereditor.canvas.ui.closeGroup"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="C">
      </key>
      <key
            commandId="phasereditor.canvas.ui.trimGroup"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="T">
      </key>
      <key
            commandId="phasereditor.canvas.ui.ungroup"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M2+G">
      </key>
      <key
            commandId="phasereditor.canvas.ui.makegroup"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="G">
      </key>
      <key
            commandId="phasereditor.canvas.ui.pick"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="P">
      </key>
      <key
            commandId="phasereditor.canvas.ui.nopick"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M2+P">
      </key>
      <key
            commandId="phasereditor.canvas.ui.quickOutline"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+O">
      </key>
      <key
            commandId="phasereditor.canvas.ui.quickEdit"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Q">
      </key>
      <key
            commandId="phasereditor.canvas.ui.addobject"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+A">
      </key>
      <key
            commandId="phasereditor.canvas.ui.resizeTile"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="L">
      </key>
      <key
            commandId="phasereditor.canvas.ui.editbody"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="B">
      </key>
      <key
            commandId="phasereditor.canvas.ui.move"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M">
      </key>
      <key
            commandId="phasereditor.canvas.ui.scale"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="S">
      </key>
       <key
            commandId="phasereditor.canvas.ui.editangle"
            contextId="phasereditor.canvas.ui.nodescontext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="N">
      </key>
       <key
             commandId="phasereditor.canvas.ui.togglesnapping"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="E">
       </key>
       <key
             commandId="phasereditor.canvas.ui.setSnappingWithSelection"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="W">
       </key>
       <key
             commandId="phasereditor.canvas.ui.changeTexture"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="M1+T">
	   </key>
	   <key
             commandId="phasereditor.canvas.ui.changeText"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="X">
	   </key>
       <key
             commandId="phasereditor.canvas.ui.selectParent"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="U">
       </key>
       <key
             commandId="phasereditor.canvas.ui.editusercode"
             contextId="phasereditor.canvas.ui.scenecontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="M1+M2+U">
       </key>
       <key
             commandId="phasereditor.canvas.ui.moveToGroup"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="M1+M2+M">
       </key>
       <key
             commandId="phasereditor.canvas.ui.editAnimations"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="A">
       </key>
       <key
             commandId="phasereditor.canvas.ui.editPivot"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="V">
       </key>
       <key
             commandId="phasereditor.canvas.ui.editanchors"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="H">
       </key>
       <key
             commandId="phasereditor.canvas.ui.openOverrideDialog"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="R">
       </key>
       <key
             commandId="phasereditor.canvas.ui.editTilemapCollision"
             contextId="phasereditor.canvas.ui.nodescontext"
             schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
             sequence="K">
       </key>
   </extension>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="phasereditor.canvas.ui.nodesSelected">
            <and>
         <with
               variable="selection">
            <iterate
                  ifEmpty="false">
               <instanceof
                     value="phasereditor.canvas.ui.shapes.IObjectNode">
               </instanceof>
            </iterate>
         </with>
         <reference
               definitionId="phasereditor.canvas.ui.inNodesContext">
         </reference>
         </and>
      </definition>
      <definition
            id="phasereditor.canvas.ui.groupsSelected">
         <with
               variable="selection">
            <iterate
                  ifEmpty="false">
               <instanceof
                     value="phasereditor.canvas.ui.shapes.GroupNode">
               </instanceof>
            </iterate>
         </with>
      </definition>
      <definition
            id="phasereditor.canvas.ui.tileSelected">
         <with
               variable="selection">
            <iterate
                  ifEmpty="false">
               <instanceof
                     value="phasereditor.canvas.ui.shapes.TileSpriteNode">
               </instanceof>
            </iterate>
         </with>
      </definition>
      <definition
            id="phasereditor.canvas.ui.oneSpriteSelected">
         <with
               variable="selection">
            <and>
               <count
                     value="1">
               </count>
               <iterate
                     ifEmpty="false">
                  <instanceof
                        value="phasereditor.canvas.ui.shapes.ISpriteNode">
                  </instanceof>
               </iterate>
            </and>
         </with>
      </definition>
      <definition
            id="phasereditor.canvas.ui.spritesSelected">
         <with
               variable="selection">
            <iterate
                  ifEmpty="false">
               <instanceof
                     value="phasereditor.canvas.ui.shapes.ISpriteNode">
               </instanceof>
            </iterate>
         </with>
      </definition>
      <definition
            id="phasereditor.canvas.ui.oneObjectSelected">
         <with
               variable="selection">
            <and>
               <count
                     value="1">
               </count>
               <iterate
                     ifEmpty="false">
                     <and>
                  <instanceof
                        value="phasereditor.canvas.ui.shapes.IObjectNode">
                  </instanceof>
                  <not>
                     <instanceof
                           value="phasereditor.canvas.ui.shapes.MissingAssetNode">
                     </instanceof>
                  </not>
                  </and>
               </iterate>
            </and>
         </with>
      </definition>
      <definition
            id="phasereditor.canvas.ui.activeEditor">
         <with
               variable="activeEditorId">
            <equals
                  value="phasereditor.canvas.ui.editors.canvas">
            </equals>
         </with>
      </definition>
      <definition
            id="phasereditor.canvas.ui.isPrefabInstance">
         <with
               variable="selection">
            <iterate
                  ifEmpty="false">
               <adapt
                     type="phasereditor.canvas.ui.shapes.IObjectNode">
                  <test
                        property="phasereditor.canvas.ui.isPrefabInstance"
                        value="true">
                  </test>
               </adapt>
            </iterate>
         </with>
      </definition>
      <definition
            id="phasereditor.canvas.ui.noPrefabRootSelected">
         <with
               variable="selection">
            <iterate
                  ifEmpty="true"
                  operator="and">
               <not>
                  <adapt
                        type="phasereditor.canvas.ui.shapes.IObjectNode">
                     <test
                           property="phasereditor.canvas.ui.isGroupPrefabRoot"
                           value="true">
                     </test>
                  </adapt>
               </not>
            </iterate>
         </with>
      </definition>
      <definition
            id="phasereditor.canvas.ui.spritePrefabEditorActive">
         	<with
               	variable="activeEditor">
               	<adapt
                        type="phasereditor.canvas.ui.editors.CanvasEditor">
                     <test
                           property="phasereditor.canvas.ui.canvasType"
                           value="sprite">
                     </test>
                  </adapt>
         	</with>         	
      </definition>
      <definition
            id="phasereditor.canvas.ui.inNodesContext">
         <with
               variable="activeContexts">
            <iterate
                  ifEmpty="false"
                  operator="or">
               <equals
                     value="phasereditor.canvas.ui.nodescontext">
               </equals>
            </iterate>
         </with>
      </definition>
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            id="phasereditor.canvas.ui.nodescontext"
            name="In scene and outline"
            parentId="org.eclipse.ui.contexts.window">
      </context>
      <context
            id="phasereditor.canvas.ui.scenecontext"
            name="In scene">
      </context>
      <context
            id="phasereditor.canvas.ui.palettecontext"
            name="In palette"
            parentId="org.eclipse.ui.contexts.window">
      </context>
      <context
            id="phasereditor.canvas.ui.any"
            name="In editor"
            parentId="org.eclipse.ui.contexts.window">
      </context>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="*">
         <newWizardShortcut
               id="phasereditor.canvas.ui.newSpriteWizard">
         </newWizardShortcut>
         <newWizardShortcut
               id="phasereditor.canvas.ui.newGroupWizard">
         </newWizardShortcut>
         <newWizardShortcut
               id="phasereditor.canvas.ui.newStateWizard">
         </newWizardShortcut>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.viewer">
      <viewerContentBinding
            viewerId="org.eclipse.ui.navigator.resources.ProjectExplorer">
         <includes>
            <contentExtension
                  pattern="phasereditor.assetpack.ui.*">
            </contentExtension>
         </includes>
      </viewerContentBinding>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <commonWizard
            menuGroupId="phaser.new.canvas"
            type="new"
            wizardId="phasereditor.canvas.ui.newSpriteWizard">
         <enablement></enablement>
      </commonWizard>
      <commonWizard
            menuGroupId="phaser.new.canvas"
            type="new"
            wizardId="phasereditor.canvas.ui.newGroupWizard">
         <enablement></enablement>
      </commonWizard>
      <commonWizard
            menuGroupId="phaser.new.canvas"
            type="new"
            wizardId="phasereditor.canvas.ui.newStateWizard">
      <enablement></enablement>
      </commonWizard>
   </extension>
   <extension
         point="phasereditor.assetpack.core.assetConsumers">
      <consumer
            handler="phasereditor.canvas.ui.CanvasAssetConsumer"
            id="phasereditor.canvas.ui.consumer1">
      </consumer>
   </extension>
   <extension
         point="phasereditor.project.core.buildParticipant">
      <participant
            handler="phasereditor.canvas.ui.CanvasScreenshotProjectBuildParticipant"
            id="phasereditor.canvas.ui.prefabsIconBuild"
            order="999">
      </participant>
      <participant
            handler="phasereditor.canvas.ui.CanvasEditorBuildParticipant"
            id="phasereditor.canvas.ui.canvasEditorBuild"
            order="4">
      </participant>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="phasereditor.canvas.ui.CanvasObjectPropertyTester"
            id="phasereditor.canvas.ui.objectPropertyTester"
            namespace="phasereditor.canvas.ui"
            properties="isPrefabInstance,isGroupPrefabRoot,allowPick,isClosedGroup"
            type="phasereditor.canvas.ui.shapes.IObjectNode">
      </propertyTester>
      <propertyTester
            class="phasereditor.canvas.ui.CanvasEditorPropertyTester"
            id="phasereditor.canvas.ui.editorPropertyTester"
            namespace="phasereditor.canvas.ui"
            properties="canvasType"
            type="phasereditor.canvas.ui.editors.CanvasEditor">
      </propertyTester>
   </extension>
   <extension
         point="org.eclipse.ltk.core.refactoring.deleteParticipants">
      <deleteParticipant
            class="phasereditor.canvas.ui.refactoring.CanvasFileDeleteParticipant"
            id="phasereditor.canvas.ui.canvasFileDeleteParticipant"
            name="Delete Canvas File">
         <enablement>
            <with
                  variable="element">
               <instanceof
                     value="org.eclipse.core.resources.IFile">
               </instanceof>
            </with>
         </enablement>
      </deleteParticipant>
      <deleteParticipant
            class="phasereditor.canvas.ui.refactoring.AssetFileUsedInCanvasDeleteParticipant"
            id="phasereditor.canvas.ui.deleteAssetFileParticipant"
            name="Delete Asset File">
         <enablement>
            <instanceof
                  value="org.eclipse.core.resources.IFile">
            </instanceof></enablement>
      </deleteParticipant>
      <deleteParticipant
            class="phasereditor.canvas.ui.refactoring.AssetDeleteInCanvasParticipant"
            id="phasereditor.canvas.ui.deleteAssetInCanvasParticipant"
            name="Delete Asset In Canvas">
         <enablement>
            <instanceof
                  value="phasereditor.assetpack.core.AssetModel">
            </instanceof></enablement>
      </deleteParticipant>
   </extension>
   <extension
         point="org.eclipse.ltk.core.refactoring.moveParticipants">
      <moveParticipant
            class="phasereditor.canvas.ui.refactoring.CanvasFileMoveParticipant"
            id="phasereditor.canvas.ui.moveParticipant1"
            name="Move Canvas File">
         <enablement>
            <with
                  variable="element">
               <instanceof
                     value="org.eclipse.core.resources.IFile">
               </instanceof>
            </with></enablement>
      </moveParticipant>
      <moveParticipant
            class="phasereditor.canvas.ui.refactoring.AssetMoveInCanvasParticipant"
            id="phasereditor.canvas.ui.moveAssetParticipant"
            name="Move Asset In Canvas">
         <enablement></enablement>
      </moveParticipant>
   </extension>
   <extension
         point="org.eclipse.ltk.core.refactoring.renameParticipants">
      <renameParticipant
            class="phasereditor.canvas.ui.refactoring.CanvasFileRenameParticipant"
            id="phasereditor.canvas.ui.renameCanvasFile"
            name="Rename Canvas File">
         <enablement>
            <with
                  variable="element">
               <instanceof
                     value="org.eclipse.core.resources.IFile">
               </instanceof>
            </with>
         </enablement>
      </renameParticipant>
      <renameParticipant
            class="phasereditor.canvas.ui.refactoring.AssetRenameInCanvasParticpant"
            id="phasereditor.canvas.ui.renameAssetParticipant"
            name="Rename Asset In Canvas File">
         <enablement>
            <with
                  variable="element">
               <instanceof
                     value="phasereditor.assetpack.core.AssetModel">
               </instanceof>
            </with>
         </enablement>
      </renameParticipant>
      <renameParticipant
            class="phasereditor.canvas.ui.refactoring.AssetSectionRenameInCanvasParticipant"
            id="phasereditor.canvas.ui.renameAssetSectionInCanvas"
            name="Rename Asset Section In Canvas File">
         <enablement>
            <with
                  variable="element">
               <instanceof
                     value="phasereditor.assetpack.core.AssetSectionModel">
               </instanceof>
            </with>
         </enablement>
      </renameParticipant>
   </extension>
   <extension
         point="org.eclipse.ltk.ui.refactoring.statusContextViewers">
      <statusContextViewer
            class="phasereditor.canvas.ui.refactoring.UsingPrefabStatusContextViewer"
            id="phasereditor.canvas.ui.usingPrefabContextViewer">
         <enablement>
            <with
                  variable="context">
               <instanceof
                     value="phasereditor.canvas.ui.refactoring.CanvasFileRefactoringStatusContext">
               </instanceof>
            </with></enablement>
      </statusContextViewer>
   </extension>
   <extension
         point="org.eclipse.search.searchResultViewPages">
      <viewPage
            class="phasereditor.canvas.ui.search.SearchPrefabResultPage"
            icon="platform:/plugin/phasereditor.ui/icons/canvas.png"
            id="phasereditor.canvas.ui.prefabSearchPage"
            label="Prefab Instances"
            searchResultClass="phasereditor.canvas.ui.search.SearchPrefabResult">
      </viewPage>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="phasereditor.canvas.ui.prefs.CanvasPreferenceInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="phasereditor.ui.prefs.phasereditor"
            class="phasereditor.canvas.ui.prefs.CanvasPreferencesPage"
            id="phasereditor.canvas.ui.prefs"
            name="Canvas">
      </page>
      <page
            category="phasereditor.canvas.ui.prefs"
            class="phasereditor.canvas.ui.prefs.ShortcutsPanePreferencePage"
            id="phasereditor.canvas.ui.prefs.shortcutsPane"
            name="Shortcuts Pane">
      </page>
   </extension>

</plugin>
